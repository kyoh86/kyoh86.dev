<!DOCTYPE html>
<html lang="ja-jp">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
 <title>今更ながらJSON Schema Core draft 4.0を日本語訳してみた </title>



<meta name="description" content="Works of kyoh86">


<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">
<meta name="theme-color" content="#4d4d4d">
<link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/notosansjapanese.css" />
<script defer src="https://use.fontawesome.com/releases/v5.0.12/js/all.js" integrity="sha384-Voup2lBiiyZYkRto2XWqbzxHXwzcm4A5RfdfG6466bu5LqjwwrjXCMBQBLMWh7qR" crossorigin="anonymous"></script>

<link href="https://kyoh86.work/css/style.css" rel="stylesheet" type='text/css' media='all'>

<link href="https://kyoh86.work/css/custom.css" rel="stylesheet" type='text/css' media='all'>
<link rel="shortcut icon" href="https://kyoh86.work/img/favicon.ico" type="image/x-icon">
<link rel="icon" href="https://kyoh86.work/img/favicon.ico" type="image/x-icon">

<script src="https://kyoh86.work/js/lib/plantuml.js"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-70974996-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>


<body class="post-template-default singular singular-post standard">

  <div id="overflow-container" class="overflow-container">
    <a class="skip-content" href="#main">Skip to content</a>
    <header id="site-header" class="site-header" role="banner">
      <div class="top-navigation">
        <div class="container">

  <div id="menu-secondary" class="menu-container menu-secondary" role="navigation">
    <button id="toggle-secondary-navigation" class="toggle-secondary-navigation" aria-label="menu"><i class="fas fa-plus"></i></button>
    <div class="menu">
      <ul id="menu-secondary-items" class="menu-secondary-items">
        
        <li id="menu-item" class="menu-item">
          <a href="/categories/tech">tech</a>
        </li>
        
      </ul>
    </div>
  </div>

    <ul class="social-media-icons">
    
      <li>
        <a class="facebook" target="_blank"
           href="https://www.facebook.com/kyoh.86" >
          <i class="fab fa-facebook" title="facebook"></i>
          <span class="screen-reader-text">facebook</span>
        </a>
      </li>
    

    
      <li>
        <a class="fa-layers" target="_blank"
           href="https://qiita.com/kyoh86" >
          <i class="fas fa-square"></i>
          <i class="fas fa-search" style="color:#111" data-fa-transform="grow-3"></i>
          <span class="screen-reader-text">googleplus</span>
        </a>
      </li>
    

    
      <li>
        <a class="googleplus" target="_blank"
           href="https://plus.google.com/u/0/100199074642864423892" >
          <i class="fab fa-google-plus" title="googleplus"></i>
          <span class="screen-reader-text">googleplus</span>
        </a>
      </li>
    


    
      <li>
      <a href="https://twitter.com/kyoh86"  class="twitter" target="_blank">
          <i class="fab fa-twitter-square" title="twitter"></i>
          <span class="screen-reader-text">twitter</span>
      </a>
      </li>
    

    
      <li>
      <a href="https://www.instagram.com/kyoh86"  class="twitter" target="_blank">
          <i class="fab fa-instagram" title="instagram"></i>
          <span class="screen-reader-text">instagram</span>
      </a>
      </li>
    

    

    
      <li>
      <a href="https://www.linkedin.com/in/kyoh86/" class="linkedin" target="_blank">
          <i class="fab fa-linkedin" title="linkedin"></i>
          <span class="screen-reader-text">linkedin</span>
      </a>
      </li>
    

    
      <li>
      <a href="https://stackoverflow.com/users/3610769/kyoh86"  class="stackoverflow" target="_blank">
          <i class="fab fa-stack-overflow" title="stackoverflow"></i>
          <span class="screen-reader-text">stackoverflow</span>
      </a>
      </li>
    


    
      <li>
      <a href="https://github.com/kyoh86"  class="github" target="_blank">
          <i class="fab fa-github" title="github"></i>
          <span class="screen-reader-text">github</span>
      </a>
      </li>
    
  </ul>


</div>

      </div>

      <div class="container">
        <div id="title-info" class="title-info">
  <div class="site-title">
    
    <a href="/"> kyoh86.work </a>
    </div>
  </div>
  <button id="toggle-navigation" class="toggle-navigation" aria-label="menu">
    <i class="fas fa-bars"></i>
  </button>

  <div id="menu-primary-tracks" class="menu-primary-tracks"></div>
  <div id="menu-primary" class="menu-container menu-primary" role="navigation">
    
    <p class="site-description">Works of kyoh86</p>
    

    <div class="menu">
      <ul id="menu-primary-items" class="menu-primary-items">
        
        
        <li id="menu-item" class="menu-item">
          <a href="https://kyoh86.work/">Home</a>
        </li>
        
        <li id="menu-item" class="menu-item">
          <a href="https://kyoh86.work/about">About</a>
        </li>
        
        
      </ul>
    </div>

  </div>

      </div>
    </header>

    <div id="main" class="main" role="main">
      
  <div class="loop-container">
    <nav class="navigation pagination" role="navigation">
      <h2 class="screen-reader-text">Posts navigation</h2>
      <div class="nav-links">
        
        <a class="prev page-numbers" href="https://kyoh86.work/posts/2017-01-15_01-15-03/">go testの出力を見やすくするツール作ったった</a>
        
        
        <a class="next page-numbers" href="https://kyoh86.work/posts/2017-04-11_06-48-23/">golangのループ変数の使い方をチェックするlinter作ってみた</a>
        
      </div>
    </nav>
    
    <div class="post entry">
    
      <div class="entry-meta">
        <span class="date">January 22</span>
        
          <span class="category">
            <span> / </span>
            <a href="/categories/tech">tech</a>
          </span>
        
      </div>

      <div class='entry-header'>
        <h1 class='entry-title'> 今更ながらJSON Schema Core draft 4.0を日本語訳してみた</h1>
      </div>
      <div class="entry-container">
        <div class="entry-content">
          <article>
            

<p>JSON SchemaのRFCを読むのが苦痛すぎるので、日本語訳をしてみる。</p>

<h1 id="当翻訳文書上の注意">当翻訳文書上の注意</h1>

<ul>
<li>著作権は原文書に帰属します。</li>
<li>訳者の注についてはカッコ付き斜体で_（訳注：このように）_表記します。</li>
<li>意図的・偶発的問わずtypoについては本来の語を推定し、その箇所には訳注を入れています。</li>
<li>英語力が低いので、あちこち誤訳がありそうです。編集リクエスト待ってます。</li>
</ul>

<h1 id="以下訳文">以下訳文</h1>

<hr />

<h1 id="json-schema-jsonドキュメント定義のためのメディアタイプ">JSON Schema：JSONドキュメント定義のためのメディアタイプ</h1>

<h2 id="概要">概要</h2>

<p>JSON Schemaは、JSONデータの構造を記述するための <code>application/schema+json</code>メディアタイプ を定義します。JSON Schemaの記述自体もJSONで形式で行われます。
JSON Schemaは、JSONドキュメントがどのように見えるか、情報をどのように抽出すればよいか、そしてその情報をどのようにやりとりするかを宣言します。他にハイパーメディアコントロールや機械的可読性を持たない、既存のAPIに注釈をつけるのに理想的です。</p>

<h2 id="読者への注意">読者への注意</h2>

<p>このドラフトのIssueリストは &lt;<a href="https://github.com/json-schema-org/json-schema-spec/issues&gt;">https://github.com/json-schema-org/json-schema-spec/issues&gt;</a> にあります。
追加情報については &lt;<a href="http://json-schema.org&gt;">http://json-schema.org&gt;</a> を参照してください。
フィードバックは前述のIssueリスト、ホームページに記載された連絡先、または著者にメールでお知らせください。</p>

<h2 id="この文書のステータス">この文書のステータス</h2>

<p>このInternet Draftは、BCP78およびBCP79の規定に完全に準拠して提出されています。</p>

<p>インターネットドラフトは、インターネットエンジニアリングタスクフォース（IETF）の作業文書です。他のグループがインターネットドラフトとして作業文書を配布することもできることに注意してください。現在のインターネットドラフトのリストは<a href="http://datatracker.ietf.org/drafts/current/にあります。">http://datatracker.ietf.org/drafts/current/にあります。</a></p>

<p>インターネットドラフトは、最大6か月間有効なドラフト文書であり、いつでも他の文書によって更新、置き換え、または廃止される可能性があります。参考資料としてインターネットドラフトを使用したり、「進行中の作業」以外のものを引用することは不適切です。</p>

<p>このインターネットドラフトは2017年4月16日に期限切れになります。</p>

<h2 id="著作権">著作権</h2>

<p><em>（訳注：略。原文参照のこと）</em></p>

<hr />

<h2 id="目次">目次</h2>

<p><em>（訳注：略。Qiitaの目次機能利用のこと）</em></p>

<h2 id="1-はじめに">1. はじめに</h2>

<p>JSON Schemaは、JSONデータの構造を定義するためのJSONメディアタイプです。JSON Schemaは、JSONデータのバリデーション、ドキュメンテーション、ハイパーリンクのナビゲーション、相互作用の制御を定義することを目的としています。</p>

<p>この仕様では、JSON referenceによる外部JSON Schemaへの参照と参照解決 <em>（訳注：dereferencing）</em> 、JSON Schemaで使用される vocabulary の明確化、および schema に対するインスタンスの処理に必要な最小機能の宣言といった、JSON Schema Coreの用語とメカニズムを定義しています。</p>

<p>バリデーション、リンク、アノテーション、ナビゲーション、相互作用に関する宣言のための vocabulary は、他の仕様で記述しています。</p>

<h2 id="2-表記と用語">2.表記と用語</h2>

<p>この文書内の&rdquo;MUST&rdquo; &ldquo;MUST NOT&rdquo; &ldquo;REQUIRED&rdquo; &ldquo;SHALL&rdquo; &ldquo;SHALL NOT&rdquo; &ldquo;SHOULD&rdquo; &ldquo;SHOULD NOT&rdquo; &ldquo;RECOMMENDED&rdquo; &ldquo;MAY&rdquo; &ldquo;OPTIONAL&rdquo;といったキーワードは、<a href="http://json-schema.org/latest/json-schema-core.html#RFC2119">RFC 2119</a>に沿って解釈しなくてはなりません。</p>

<p>同様に、この文書内の&rdquo;JSON&rdquo;, &ldquo;JSON text&rdquo;, &ldquo;JSON value&rdquo;, &ldquo;member&rdquo;, &ldquo;element&rdquo;, &ldquo;object&rdquo;, &ldquo;array&rdquo;, &ldquo;number&rdquo;, &ldquo;string&rdquo;, &ldquo;boolean&rdquo;, &ldquo;true&rdquo;, &ldquo;false&rdquo;, &ldquo;null&rdquo;といったキーワードは、<a href="http://json-schema.org/latest/json-schema-core.html#RFC7159">RFC 7159</a>に沿って解釈しなくてはなりません。</p>

<h2 id="3-概要">3.概要</h2>

<p>このドキュメントでは、JSONデータを記述するためのJSON Schemaを識別する新しいメディアタイプ &ldquo;application / schema + json&rdquo;を提案しています。JSON Schema自体はJSONで記述されています。当仕様と、関連する仕様でもって、define keywords allowing to describe this data in terms of allowable values, textual descriptions and interpreting relations with other resources. このセクションでは、関連する仕様で定義されている機能の概要を示します。</p>

<h3 id="3-1-バリデーション">3.1. バリデーション</h3>

<p>JSON Schemaは、JSONドキュメントの構造（必要なプロパティや長さの制限など）を記述します。アプリケーションは、この情報を使用してインスタンスを検証（制約が満たされていることを確認）したり、制約を満たしたユーザー入力をインターフェイスに送信することができます。</p>

<p>バリデーションの動作とキーワードは、別の文書 <a href="http://json-schema.org/latest/json-schema-core.html#json-schema-validation">json-schema-validation</a> で定義しています。</p>

<h3 id="3-2-ハイパーメディアとリンク">3.2. ハイパーメディアとリンク</h3>

<p>JSON Hyper-Schema は、JSONドキュメントのハイパーテキスト構造を定義します。これには、インスタンスから他のリソースへのリンク関係、インスタンスのマルチメディアデータとしての解釈、およびAPIの使用に必要な送信データの定義が含まれます。</p>

<p>JSON Hyper-Schemaの動作やキーワードは、別の文書 <a href="http://json-schema.org/latest/json-schema-core.html#json-hyper-schema">json-hyper-schema</a> で定義しています。</p>

<h2 id="4-定義">4.定義</h2>

<h3 id="4-1-jsonドキュメント">4.1. JSONドキュメント</h3>

<p>JSONドキュメントは、<code>application/json</code>メディアタイプで記述された情報リソース（バイト列）です。</p>

<p>JSON Schemaでは、定義されているデータモデルにより、&rdquo;JSON document&rdquo;, &ldquo;JSON text&rdquo;, &ldquo;JSON value&rdquo; という語には互換性があります。</p>

<h3 id="4-2-インスタンス">4.2. インスタンス</h3>

<p>JSON Schemaは、データモデルに従ってドキュメントを解釈 <em>（訳注：interperts、おそらく「interprets」のtypo）</em> します。このデータモデルによって解釈 <em>（訳注：interperted、おそらく「interpreted」のtypo）</em> されたJSON valueは、「インスタンス」と呼ばれます。</p>

<p>インスタンスには、6つのプリミティブ型のいずれか、および型に応じて持ちうる値の制限があります。</p>

<dl>
<dt>null</dt>
<dd>JSON の null 表現</dd>
<dt>boolean</dt>
<dd>JSON の true, false 表現による真偽値</dd>
<dt>object</dt>
<dd>JSON のオブジェクト表現による、文字列をインスタンスにマッピングする際にプロパティの順序が決められていない集合</dd>
<dt>array</dt>
<dd>JSON の配列表現による、インスタンスの順序付きリスト</dd>
<dt>number</dt>
<dd>JSON の数値表現による、任意精度の10進数の値</dd>
<dt>string</dt>
<dd>JSON の文字列表現による、Unicodeコードポイントの文字列</dd>
</dl>

<p>したがって、空白とフォーマットに関しては JSON Schema 定めるところではありません。</p>

<p>オブジェクトは同じキーを持つ2つのプロパティを持つことができないため、単一のオブジェクト内に同じキー（&rdquo;文字列&rdquo;表現による）を持つ2つのプロパティ（&rdquo;メンバ&rdquo;表現）を定義しようとした場合の、JSON documentの動作は定義されていません。</p>

<h3 id="4-3-インスタンスの等価性">4.3. インスタンスの等価性</h3>

<p>2つのJSONインスタンスは、同じ型で、データモデルに応じた同じ値を持つ場合に限り、等しいとされます。具体的には、</p>

<ul>
<li>どちらもnull</li>
<li>どちらも真</li>
<li>どちらも偽</li>
<li>どちらも文字列であり、同じコードポイントの羅列</li>
<li>どちらも数であり、同じ数学的値を有する</li>
<li>どちらも配列であり、各項目の値と順序が等しい</li>
<li>どちらもオブジェクトであり、一方の各プロパティがもう一方の各プロパティとキー・値で完全に一致する</li>
</ul>

<p>この定義により、配列の長さは同じでなければならず、オブジェクトのメンバー数も同じでなければなりません。一方で、オブジェクトのプロパティの順序については問わず、同じキーで複数のプロパティを定義する方法はなく、単なる書式の違い（インデント、カンマ、末尾のゼロなど）は重要ではありません。</p>

<h3 id="4-4-json-schemaドキュメント">4.4. JSON Schemaドキュメント</h3>

<p>JSON Schema document（または単にスキーマ）は、インスタンスを記述するために使用されるJSON documentです。スキーマ自体がインスタンスとして解釈されます。JSON Schemaはオブジェクトでなければなりません。</p>

<p>インスタンスを記述するために使用されるプロパティは、<code>キーワード</code>または<code>スキーマキーワード</code>と呼ばれます。プロパティの意味は、スキーマが使用しているvocabulary によって指定されます。</p>

<p>JSON Schemaには、スキーマのキーワードではないプロパティが含まれる場合があります。未知のキーワードを無視すべきです（SHOULD）。</p>

<p>スキーマ自体を定義するスキーマは、メタスキーマ <em>（訳注：meta-schema）</em> と呼ばれます。メタスキーマは、JSON Schemaを検証し、スキーマ内で使用している vocabulary を仕様化するために使用されます。</p>

<p>空のスキーマは、プロパティを持たないJSON Schemaです。</p>

<h3 id="4-5-ルートスキーマとサブスキーマ">4.5. ルートスキーマとサブスキーマ</h3>

<p>ルートスキーマは、対象のJSONドキュメント全体を構成するスキーマです。</p>

<p>一部のキーワードはスキーマ自体を取り、JSON Schemaをネストすることができます。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#6ab825;font-weight:bold">&#34;title&#34;</span>: <span style="color:#ed9d13">&#34;root&#34;</span>,
    <span style="color:#6ab825;font-weight:bold">&#34;items&#34;</span>: {
        <span style="color:#6ab825;font-weight:bold">&#34;title&#34;</span>: <span style="color:#ed9d13">&#34;array item&#34;</span>
    }
}</code></pre></div>
<p>この例のドキュメントでは、「配列アイテム」というスキーマはサブスキーマであり、「ルート」というスキーマはルートスキーマです。</p>

<h2 id="5-一般的な考慮事項">5. 一般的な考慮事項</h2>

<h3 id="5-1-json値">5.1. JSON値</h3>

<p>インスタンスは、<a href="http://json-schema.org/latest/json-schema-core.html#RFC7159">RFC7159</a>に定める任意の有効なJSON値を取ることができます。JSON Schemaは、JSONのあらゆる型を記述することができ、例えばnullを含むJSON値を記述できます。</p>

<h3 id="5-2-言語独立性">5.2. 言語独立性</h3>

<p>JSON Schemaはプログラミング言語によらず、データモデルで説明されているすべての値をサポートしています。ただし、一部の言語やJSONパーサーでは、JSONで記述できる値のすべての範囲をメモリで表現できない場合があることに注意してください。</p>

<h3 id="5-3-整数">5.3. 整数</h3>

<p>いくつかのプログラミング言語とパーサは、浮動小数点数に対して整数とは異なる内部表現を使用します。</p>

<p>一貫性のため <em>（訳注：For constistency、おそらくFor consistencyのtypo）</em> 、整数のJSON numberを小数でエンコードするべきではありません（SHOULD NOT）。</p>

<h3 id="5-4-json-schemaの拡張">5.4. JSON Schemaの拡張</h3>

<p>実装においては、JSON Schemaに追加のキーワードを定義することができます。明示的な合意がある場合を除いて、スキーマ作成者はこれらの追加のキーワードがピア実装によるサポートを期待してはいけません。実装は、サポートしていないキーワードについては無視すべきです（SHOULD）。</p>

<p>JSON Schemaへの拡張の作成者は、「allOf」を使用して既存のメタスキーマを拡張して、独自のメタスキーマを作成することをお勧めします。この拡張されたメタスキーマは、ツールでJSON documentを正しく解釈するために、&rdquo;$schema&rdquo;キーワードを使って参照されるべきです（SHOULD）。</p>

<h2 id="6-schema-キーワード">6. <code>$schema</code> キーワード</h2>

<h3 id="6-1-目的">6.1. 目的</h3>

<p><code>$schema</code> キーワードは、JSON Schemaのバージョン識別子として、またその特定のバージョンを定義するスキーマを記述した JSON Schema リソースの場所として解釈されます。</p>

<p>JSON Schemaドキュメントのルートスキーマは、このプロパティを記述すべきです（SHOULD）。このキーワードの値は、<a href="http://json-schema.org/latest/json-schema-core.html#RFC3986">RFC3986</a>に定義される絶対URIであり、正規化されていなければなりません。そしてスキーマ自体は、このURIによって識別されるメタスキーマに対して有効でなければなりません（MUST）。</p>

<p>このプロパティの値は、他のドキュメントや他の人に定義されています。JSON Schemaの実装では、JSON Schemaの現在の草案とそれ以前に公開された草案の妥当性を考慮してサポートを実装するべきです（SHOULD）。</p>

<h2 id="7-ref-を使用したスキーマの参照">7. <code>$ref</code> を使用したスキーマの参照</h2>

<p>サブスキーマの中ではどこでも、 <code>$ref</code> プロパティを含むオブジェクトを記述することができます。 <code>$ref</code>の値はURI参照です。現在のURIをベースとして解決され、使用するスキーマのURIを提示します。 <code>$ref</code> を含むオブジェクトの、他のすべてのプロパティは無視しなければなりません（MUST）。</p>

<p>URIは具体的なネットワーク上の位置を示すものではなく、識別子です。ネットワーク上のアドレス指定可能なURLであったからといって、スキーマはそのアドレスからダウンロード可能である必要はなく、実装においては、ネットワーク上のアドレス可能なURIに対してネットワークからのダウンロードなどの操作をすべきと捉えてはなりません（SHOULD NOT）。</p>

<p>スキーマを無限ループにしてはならない（MUST NOT）。たとえば、2つのスキーマ &ldquo;#alice&rdquo; と &ldquo;#bob&rdquo; がお互いに &ldquo;allOf&rdquo; プロパティーでもって参照しあっている場合、安易なValidatorではインスタンスを検証しようとして、無限再帰的ループに陥る可能性があります。スキーマは、このような無限の再帰的ネストを使用してはなりません（SHOULD NOT）。使用した場合の振る舞いは未定義です。</p>

<h2 id="8-ベースuriと参照解決-訳注-dereferencing">8.ベースURIと参照解決 <em>（訳注：dereferencing）</em></h2>

<h3 id="8-1-initial-base-uri">8.1. Initial base URI</h3>

<p><a href="https://www.ietf.org/rfc/rfc3986.txt">RFC3986 Section 5.1</a>defines how to determine the default base URI of a document.</p>

<p>Informatively, the initial base URI of a schema is the URI it was found at, or a suitable substitute URI if none is known.</p>

<p><em>（訳注：このセクションで言っていることが全くわからない。ルートのidキーワードが必要な中で、initial　base URIを定める必要性がよくわからない。訳者が盛大に勘違いしている可能性あり）</em></p>

<h3 id="8-2-id-キーワード">8.2. <code>id</code> キーワード</h3>

<p><code>id</code>キーワードは、スキーマのURIと、スキーマ内の他のURI参照が解決されるベースURIを定義します。<code>id</code>キーワード自体は、オブジェクト全体のベースURIに対して解決されます。</p>

<p>このキーワードの値は、文字列でなければなりませんし、<a href="https://www.ietf.org/rfc/rfc3986.txt">RFC3986</a>に定められた有効なURIでなければなりません。さらにこの値は正規化されるべきであり（SHOULD NOT）、空のフラグメント <code>&quot;#&quot;</code> または空の文字列 <code>&quot;&quot;</code> であるべきではありません（SHOULD NOT）。</p>

<p>JSON Schema ドキュメントのルートスキーマには、絶対URI（スキームを含むが、フラグメントは含まない）を持つ <code>id</code> キーワードが必要です（SHOULD）。</p>

<p>JSON Schemaドキュメント内のサブスキーマに名前を付けるために、<code>id</code> を使用してドキュメントローカルの識別子を定義することができます。この形式の &ldquo;id&rdquo;キーワードは、フラグメントURI参照であることを示す <code>#</code> に続けてアルファベット（[A-Za-z]）、続けて任意の数のアルファベット（[A-Za-z]）、数字（[0-9]）、ハイフン（<code>-</code>）、アンダースコア（<code>-</code>）、コロン（<code>:</code>）、またはピリオド（<code>.</code>）の羅列で記述されなくてはなりません（MUST）。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#6ab825;font-weight:bold">&#34;id&#34;</span>: <span style="color:#ed9d13">&#34;http://example.com/root.json&#34;</span>,
    <span style="color:#6ab825;font-weight:bold">&#34;definitions&#34;</span>: {
        <span style="color:#6ab825;font-weight:bold">&#34;A&#34;</span>: { <span style="color:#6ab825;font-weight:bold">&#34;id&#34;</span>: <span style="color:#ed9d13">&#34;#foo&#34;</span> },
        <span style="color:#6ab825;font-weight:bold">&#34;B&#34;</span>: {
            <span style="color:#6ab825;font-weight:bold">&#34;id&#34;</span>: <span style="color:#ed9d13">&#34;other.json&#34;</span>,
            <span style="color:#6ab825;font-weight:bold">&#34;definitions&#34;</span>: {
                <span style="color:#6ab825;font-weight:bold">&#34;X&#34;</span>: { <span style="color:#6ab825;font-weight:bold">&#34;id&#34;</span>: <span style="color:#ed9d13">&#34;#bar&#34;</span> },
                <span style="color:#6ab825;font-weight:bold">&#34;Y&#34;</span>: { <span style="color:#6ab825;font-weight:bold">&#34;id&#34;</span>: <span style="color:#ed9d13">&#34;t/inner.json&#34;</span> }
            }
        },
        <span style="color:#6ab825;font-weight:bold">&#34;C&#34;</span>: {
            <span style="color:#6ab825;font-weight:bold">&#34;id&#34;</span>: <span style="color:#ed9d13">&#34;urn:uuid:ee564b8a-7a87-4125-8c96-e9f123d6766f&#34;</span>
        }
    }
}</code></pre></div>
<p>上記の例における各スキーマはそれぞれ以下に示すように、ルートスキーマからの相対的なJSON Pointer(<a href="http://json-schema.org/latest/json-schema-core.html#RFC6901">RFC6901</a>)と　base　URI を持ち、どちらでも一意に識別できます。</p>

<ul>
<li># (document root)

<ul>
<li><a href="http://example.com/root.json#">http://example.com/root.json#</a></li>
</ul></li>
<li>#/definitions/A

<ul>
<li><a href="http://example.com/root.json#foo">http://example.com/root.json#foo</a></li>
</ul></li>
<li>#/definitions/B

<ul>
<li><a href="http://example.com/other.json">http://example.com/other.json</a></li>
</ul></li>
<li>#/definitions/B/definitions/X

<ul>
<li><a href="http://example.com/other.json#bar">http://example.com/other.json#bar</a></li>
</ul></li>
<li>#/definitions/B/definitions/Y

<ul>
<li><a href="http://example.com/t/inner.json">http://example.com/t/inner.json</a></li>
</ul></li>
<li>#/definitions/C

<ul>
<li>urn:uuid:ee564b8a-7a87-4125-8c96-e9f123d6766f</li>
</ul></li>
</ul>

<h4 id="8-2-1-内部参照">8.2.1. 内部参照</h4>

<p>スキーマは、JSON Pointer や<code>id</code>で直接指定されたURIなど、与えられたURIによって一意に識別できます。</p>

<p>実装 <em>（訳注：Tools）</em> は、スキーマ自身が<code>id</code>プロパティで提供しているURIを記憶しなくてはなりません（SHOULD）。これは「内部参照」と呼ばれます。</p>

<p>例として、次のスキーマを考えます。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#6ab825;font-weight:bold">&#34;id&#34;</span>: <span style="color:#ed9d13">&#34;http://example.net/root.json&#34;</span>,
    <span style="color:#6ab825;font-weight:bold">&#34;items&#34;</span>: {
        <span style="color:#6ab825;font-weight:bold">&#34;type&#34;</span>: <span style="color:#ed9d13">&#34;array&#34;</span>,
        <span style="color:#6ab825;font-weight:bold">&#34;items&#34;</span>: { <span style="color:#6ab825;font-weight:bold">&#34;$ref&#34;</span>: <span style="color:#ed9d13">&#34;#item&#34;</span> }
    },
    <span style="color:#6ab825;font-weight:bold">&#34;definitions&#34;</span>: {
        <span style="color:#6ab825;font-weight:bold">&#34;single&#34;</span>: {
            <span style="color:#6ab825;font-weight:bold">&#34;id&#34;</span>: <span style="color:#ed9d13">&#34;#item&#34;</span>,
            <span style="color:#6ab825;font-weight:bold">&#34;type&#34;</span>: <span style="color:#ed9d13">&#34;integer&#34;</span>
        },
    }
}</code></pre></div>
<p>実装が <code>#/definitions/single</code> スキーマを見つけた時、その時点でのbase URIに対する <code>id</code> のURI参照を解決して <code>http://example.net/root.json#item</code> という形にします。
また、実装が<code>#/items</code> スキーマの中を見ようとすると <code>#item</code> 参照にぶつかりますが、これは <code>http://example.net/root.json#item</code> と解決され、同じドキュメント内の他の場所で定義されたスキーマを指すものとして扱われます。</p>

<h4 id="8-2-2-外部参照">8.2.2. 外部参照</h4>

<p>スキーマはURIで識別されます。前述の通り、URIは必ずしも何かがダウンロードされることを意味するものではありませんが、JSON Schemaの実装は、それらを識別するURIを含め、使用するスキーマをすでに理解しているべきです（SHOULD）。</p>

<p>実装は、任意のURIを任意のスキーマに関連付けることを許すべきで（SHOULD）、かつスキーマの<code>id</code>に自動的に与えられたURIを関連付けられるべきです（SHOULD）。</p>

<p>スキーマは複数のURIを持つ可能性がありますが、URIが複数のスキーマを持つ方法はありません。複数のスキーマが同じURIで存在する場合、バリデータはエラーを発生させるべきです（SHOULD）。</p>

<h2 id="9-ハイパーメディアの使用">9. ハイパーメディアの使用</h2>

<p>JSONの最も利用されるシーンの一つは、自動化されたAPIとロボットのための、HTTPサーバーです。このセクションでは、メディアタイプとWeb linking([RFC5988]())をサポートするプロトコルにおいて、よりRESTfulなやり方でJSON documentsの処理を拡充する方法について記述します。</p>

<h3 id="9-1-スキーマへのリンク">9.1. スキーマへのリンク</h3>

<p>特定のスキーマに沿って書かれたインスタンスには、&rdquo;describedby&rdquo; link ([W3C.REC-ldp-20150226]()) によってダウンロード可能なJSON Schemaへのリンクを記述することが推奨されています（RECOMMENDED）。
HTTPでは、そのようなリンクをレスポンスに Link header [RFC5988] で付与できます。ヘッダの例は以下のとおりです。</p>

<pre><code>Link: &lt;http://example.com/my-hyper-schema#&gt;; rel=&quot;describedby&quot;
</code></pre>

<h3 id="9-2-jsonプロファイルの記述">9.2. JSONプロファイルの記述</h3>

<p>The &lsquo;profile&rsquo; Link Relation ([RFC6906]) で説明されているように、インスタンスはプロファイルを指定することができます。メディアタイプのパラメータとして使用すると、HTTPサーバはプロファイルに基づいてContent-Type Negotiationを実行できます。media-typeパラメタは空白で区切られたURIのリストでなければなりません（MUST）（すなわち、相対参照は無効です）。</p>

<p>プロファイルURIは透過ではないため、自動的に参照解決してはなりません（SHOULD NOT）。実装が提供されたプロファイルのセマンティクスを理解していない場合、その実装は代わりに、プロファイルの処理方法に関する情報を提供する「describedby」リンクに従うことができます。「プロファイル」は必ずしもネットワークの場所を指しているわけではないので、ダウンロード可能なスキーマへのリンクには &ldquo;describedby&rdquo;関係が使用されます。ただしシンプルにするために、スキーマの作成者は、可能であればこれらのURIを同じリソースを指すようにする必要があります。</p>

<p>HTTPでは、media-typeパラメーターはContent-Typeヘッダー内に送信されます。</p>

<pre><code>Content-Type: application/json; profile=&quot;http://example.com/my-hyper-schema#&quot;
</code></pre>

<p>複数のプロファイルは空白区切りで指定します。</p>

<pre><code>Content-Type: application/json; profile=&quot;http://example.com/alice http://example.com/bob&quot;
</code></pre>

<p>HTTPは、プロファイルをリンクでも送ることができますが、media-type パラメータを完全に置き換えてしまう場合、media-typeセマンティクスとContent-Type Negotiationに影響します。</p>

<pre><code>Link: &lt;/alice&gt;;rel=&quot;profile&quot;, &lt;/bob&gt;;rel=&quot;profile&quot;
</code></pre>

<h3 id="9-3-httpでの使用">9.3. HTTPでの使用</h3>

<p>ネットワーク上のハイパーメディアシステムのために使う場合、スキーマのやりとりにはHTTPがよく選ばれます。無作法なクライアントは、キャッシュ可能な長い時間が設けられているときでも、必要以上にネットワーク越しにスキーマの取得を繰り返し、サーバー管理者に問題を引き起こすことがあります。
HTTPサーバーはJSON Schemaが長期間キャッシュされるヘッダーを設定すべきです（SHOULD）。HTTPクライアントは、キャッシュヘッダーを解釈し、キャッシュが利用可能な期間内に文書を再要求しないようにするべきです（SHOULD）。分散システムは共有キャッシュやキャッシングプロキシを使用するべきです（SHOULD）。</p>

<p>クライアントは、JSON Schema実装またはソフトウェアに固有のUser-Agentヘッダーを設定または追加してください（SHOULD）。シンボルは重要度の高い順に並べられているため、JSONスキーマライブラリの名前/バージョンが最初に記述され、より一般的なHTTPライブラリ名（存在する場合）が記述されます。</p>

<p>例：</p>

<pre><code>User-Agent: so-cool-json-schema/1.0.2 curl/7.43.0
</code></pre>

<p>クライアントは、<code>From</code>ヘッダーを付けてリクエストするべきであり（SHOULD）、サーバーオペレータが誤っている可能性のあるスクリプトの所有者に連絡できるようにする必要があります（SHOULD）。</p>

<h2 id="10-セキュリティに関する考慮事項">10. セキュリティに関する考慮事項</h2>

<p>スキーマとインスタンスはどちらもJSON値です。ですから、[RFC7159]に定められた、JSON valueにおけるセキュリティ上の考慮はスキーマやインスタンスにおいても適用されます。</p>

<p>インスタンスとスキーマは、たびたび信頼できない第三者によってパブリックインターネットサーバー上に公開されます。バリデータは、スキーマの解析に過度のシステムリソースを消費しないよう、注意する必要があります。バリデーターが無限ループに陥ってはなりません（MUST NOT）。</p>

<p>サーバーは、悪意のある人物が既存のスキーマや非常によく似たIDを持つスキーマをアップロードすることで、既存のスキーマの機能を変えてしまうことがないよう、考慮する必要があります。</p>

<p>個別のJSON Schema vocabulary は、独自のセキュリティの考慮事項も持つことになります。詳細については、それぞれの仕様を参照してください。</p>

<h2 id="11-iana-の考慮事項">11. IANA の考慮事項</h2>

<p>JSONスキーマのMIMEメディアタイプは、次のように定義・提案されています。</p>

<p>タイプ名: application
サブタイプ名: schema+json</p>

<h2 id="12-参考文献">12. 参考文献</h2>

<h3 id="12-1-標準に関する参考文献">12.1. 標準に関する参考文献</h3>

<table>
  <tr>
    <th>[RFC2119]</th>
    <td>Bradner, S., "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997.</td>
  </tr>
  <tr>
    <th>[RFC3986]</th>
    <td>Berners-Lee, T., Fielding, R. and L. Masinter, "<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>", STD 66, RFC 3986, DOI 10.17487/RFC3986, January 2005.</td>
  </tr>
  <tr>
    <th>[RFC7159]</th>
    <td>Bray, T., "<a href="http://tools.ietf.org/html/rfc7159">The JavaScript Object Notation (JSON) Data Interchange Format</a>", RFC 7159, DOI 10.17487/RFC7159, March 2014.</td>
  </tr>
  <tr>
    <th>[W3C.REC-ldp-20150226]</th>
    <td>Speicher, S., Arwe, J. and A. Malhotra, "<a href="http://www.w3.org/TR/2015/REC-ldp-20150226">Linked Data Platform 1.0</a>", World Wide Web Consortium Recommendation REC-ldp-20150226, February 2015.</td>
  </tr>
</table>

<h3 id="12-2-その他の参考文献">12.2. その他の参考文献</h3>

<table>
  <tr>
    <th>[RFC5988]</th>
    <td>Nottingham, M., "<a href="http://tools.ietf.org/html/rfc5988">Web Linking</a>", RFC 5988, DOI 10.17487/RFC5988, October 2010.</td>
  </tr>
  <tr>
    <th>[RFC6901]</th>
    <td>Bryan, P., Zyp, K. and M. Nottingham, "<a href="http://tools.ietf.org/html/rfc6901">JavaScript Object Notation (JSON) Pointer</a>", RFC 6901, DOI 10.17487/RFC6901, April 2013.</td>
  </tr>
  <tr>
    <th>[RFC6906]</th>
    <td>Wilde, E., "<a href="http://tools.ietf.org/html/rfc6906">The 'profile' Link Relation Type</a>", RFC 6906, DOI 10.17487/RFC6906, March 2013.</td>
  </tr>
  <tr>
    <th>[RFC7231]</th>
    <td>Fielding, R. and J. Reschke, "<a href="http://tools.ietf.org/html/rfc7231">Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</a>", RFC 7231, DOI 10.17487/RFC7231, June 2014.</td>
  </tr>
  <tr>
    <th>[json-schema-validation]</th>
    <td>Wright, A. and G. Luff, "<a href="http://tools.ietf.org/html/draft-wright-json-schema-validation-00">JSON Schema Validation: A Vocabulary for Structural Validation of JSON</a>", Internet-Draft draft-wright-json-schema-validation-00, October 2016.</td>
  </tr>
  <tr>
    <th>[json-hyper-schema]</th>
    <td>Wright, A. and G. Luff, "<a href="http://tools.ietf.org/html/draft-wright-json-schema-hyperschema-00">JSON Hyper-Schema: A Vocabulary for Hypermedia Annotation of JSON</a>", Internet-Draft draft-wright-json-schema-hyperschema-00, October 2016.</td>
  </tr>
</table>

<h2 id="付録a-謝辞">付録A. 謝辞</h2>

<p><em>（訳注：略。原文参照のこと）</em></p>

<h2 id="付録b-変更履歴">付録B. 変更履歴</h2>

<p><em>（訳注：略。原文参照のこと）</em></p>

<h2 id="著者">著者</h2>

<p><em>（訳注：略。原文参照のこと）</em></p>

          </article>
        </div>
        <div class='entry-meta-bottom'>

          
            <div class="entry-tags"><p><span>Tags</span>
              
                <a href="/tags/atom" title="View all posts tagged ATOM">ATOM</a>
              
                <a href="/tags/applescript" title="View all posts tagged AppleScript">AppleScript</a>
              
                <a href="/tags/csv" title="View all posts tagged CSV">CSV</a>
              
                <a href="/tags/ecs" title="View all posts tagged ECS">ECS</a>
              
                <a href="/tags/excel" title="View all posts tagged Excel">Excel</a>
              
                <a href="/tags/git" title="View all posts tagged Git">Git</a>
              
                <a href="/tags/github" title="View all posts tagged GitHub">GitHub</a>
              
                <a href="/tags/go" title="View all posts tagged Go">Go</a>
              
                <a href="/tags/json" title="View all posts tagged JSON">JSON</a>
              
                <a href="/tags/json-schema" title="View all posts tagged JSON-schema">JSON-schema</a>
              
                <a href="/tags/javascript" title="View all posts tagged JavaScript">JavaScript</a>
              
                <a href="/tags/mongodb" title="View all posts tagged MongoDB">MongoDB</a>
              
                <a href="/tags/osx" title="View all posts tagged OSX">OSX</a>
              
                <a href="/tags/php" title="View all posts tagged PHP">PHP</a>
              
                <a href="/tags/perl6" title="View all posts tagged Perl6">Perl6</a>
              
                <a href="/tags/semanticversioning" title="View all posts tagged SemanticVersioning">SemanticVersioning</a>
              
                <a href="/tags/vscode" title="View all posts tagged VSCode">VSCode</a>
              
                <a href="/tags/visualstudiocode" title="View all posts tagged VisualStudioCode">VisualStudioCode</a>
              
                <a href="/tags/web" title="View all posts tagged Web">Web</a>
              
                <a href="/tags/zsh" title="View all posts tagged Zsh">Zsh</a>
              
                <a href="/tags/cli" title="View all posts tagged cli">cli</a>
              
                <a href="/tags/golang" title="View all posts tagged golang">golang</a>
              
                <a href="/tags/homebrew" title="View all posts tagged homebrew">homebrew</a>
              
                <a href="/tags/jxa" title="View all posts tagged jXA">jXA</a>
              
                <a href="/tags/memo" title="View all posts tagged memo">memo</a>
              
                <a href="/tags/pecoshellanyframezsh" title="View all posts tagged peco,shell,anyframe,zsh">peco,shell,anyframe,zsh</a>
              
                <a href="/tags/postfix" title="View all posts tagged postfix">postfix</a>
              
                <a href="/tags/proxy" title="View all posts tagged proxy">proxy</a>
              
                <a href="/tags/python" title="View all posts tagged python">python</a>
              
                <a href="/tags/scaffold" title="View all posts tagged scaffold">scaffold</a>
              
                <a href="/tags/semver" title="View all posts tagged semver">semver</a>
              
                <a href="/tags/shell" title="View all posts tagged shell">shell</a>
              
                <a href="/tags/tag" title="View all posts tagged tag">tag</a>
              
                <a href="/tags/%E3%82%A2%E3%82%A4%E3%83%87%E3%82%A3%E3%82%A2" title="View all posts tagged アイディア">アイディア</a>
              
                <a href="/tags/%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3" title="View all posts tagged バージョン">バージョン</a>
              
                <a href="/tags/%E3%83%9D%E3%82%A8%E3%83%A0" title="View all posts tagged ポエム">ポエム</a>
              
                <a href="/tags/%E3%83%A1%E3%83%A2" title="View all posts tagged メモ">メモ</a>
              
                <a href="/tags/%E8%87%AA%E7%84%B6%E8%A8%80%E8%AA%9E%E5%87%A6%E7%90%86" title="View all posts tagged 自然言語処理">自然言語処理</a>
              
            </p></div>
          
        </div>
      </div>
    </div>

    <nav class="navigation pagination" role="navigation">
      <h2 class="screen-reader-text">Posts navigation</h2>
      <div class="nav-links">
        
        <a class="prev page-numbers" href="https://kyoh86.work/posts/2017-01-15_01-15-03/">go testの出力を見やすくするツール作ったった</a>
        
        
        <a class="next page-numbers" href="https://kyoh86.work/posts/2017-04-11_06-48-23/">golangのループ変数の使い方をチェックするlinter作ってみた</a>
        
      </div>
    </nav>

    <section class="comments">
    
    </section>
  </div>


    </div>

    <footer id="site-footer" class="site-footer" role="contentinfo">
  <h1>
    
      <a href=""> kyoh86.work </a>
    
  </h1>

  
    <p class="site-description">Works of kyoh86</p>
  

  <div class="menu-footer" role="navigation">
    <div class="menu">
      <ul class="menu-footer-items">
        
      </ul>
    </div>
  </div>

    <ul class="social-media-icons">
    
      <li>
        <a class="facebook" target="_blank"
           href="https://www.facebook.com/kyoh.86" >
          <i class="fab fa-facebook" title="facebook"></i>
          <span class="screen-reader-text">facebook</span>
        </a>
      </li>
    

    
      <li>
        <a class="fa-layers" target="_blank"
           href="https://qiita.com/kyoh86" >
          <i class="fas fa-square"></i>
          <i class="fas fa-search" style="color:#111" data-fa-transform="grow-3"></i>
          <span class="screen-reader-text">googleplus</span>
        </a>
      </li>
    

    
      <li>
        <a class="googleplus" target="_blank"
           href="https://plus.google.com/u/0/100199074642864423892" >
          <i class="fab fa-google-plus" title="googleplus"></i>
          <span class="screen-reader-text">googleplus</span>
        </a>
      </li>
    


    
      <li>
      <a href="https://twitter.com/kyoh86"  class="twitter" target="_blank">
          <i class="fab fa-twitter-square" title="twitter"></i>
          <span class="screen-reader-text">twitter</span>
      </a>
      </li>
    

    
      <li>
      <a href="https://www.instagram.com/kyoh86"  class="twitter" target="_blank">
          <i class="fab fa-instagram" title="instagram"></i>
          <span class="screen-reader-text">instagram</span>
      </a>
      </li>
    

    

    
      <li>
      <a href="https://www.linkedin.com/in/kyoh86/" class="linkedin" target="_blank">
          <i class="fab fa-linkedin" title="linkedin"></i>
          <span class="screen-reader-text">linkedin</span>
      </a>
      </li>
    

    
      <li>
      <a href="https://stackoverflow.com/users/3610769/kyoh86"  class="stackoverflow" target="_blank">
          <i class="fab fa-stack-overflow" title="stackoverflow"></i>
          <span class="screen-reader-text">stackoverflow</span>
      </a>
      </li>
    


    
      <li>
      <a href="https://github.com/kyoh86"  class="github" target="_blank">
          <i class="fab fa-github" title="github"></i>
          <span class="screen-reader-text">github</span>
      </a>
      </li>
    
  </ul>


  <div class="design-credit">
    
      <p>&copy; 2018 kyoh86</p>
    
  </div>
</footer>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
    });
</script>
<script type="text/javascript" async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>


  </div>
  <script src="https://kyoh86.work/js/jquery.min.js"></script>
<script src="https://kyoh86.work/js/jquerymigrate.js"></script>
<script src="https://kyoh86.work/js/production.min.js"></script>

</body>
</html>
